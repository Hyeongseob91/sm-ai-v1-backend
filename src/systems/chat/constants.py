"""
Chat/Agent 시스템 상수 정의
"""

# =============================================================================
# Agent 설정
# =============================================================================

# 실행 제한
MAX_ITERATIONS = 10  # 최대 반복 횟수
MAX_TOOL_CALLS = 20  # 최대 도구 호출 수
TIMEOUT_SECONDS = 120  # 타임아웃 (초)


# =============================================================================
# LLM 설정
# =============================================================================

DEFAULT_MODEL = "gpt-4o"
DEFAULT_TEMPERATURE = 0.0
MAX_TOKENS = 4096


# =============================================================================
# Function Calling 설정
# =============================================================================

FUNCTION_CALLING_MODELS = [
    "gpt-4o",
    "gpt-4o-mini",
    "gpt-4-turbo",
    "gpt-3.5-turbo",
]


# =============================================================================
# Tool 관련 상수
# =============================================================================

# 기본 활성 도구들 (네이티브 유틸리티만)
# 분석 도구들은 MCP 서버를 통해 제공
DEFAULT_TOOLS = [
    "report_formatter",
]

# 도구 설명
TOOL_DESCRIPTIONS = {
    "report_formatter": "분석 결과를 보고서 형식으로 포맷합니다.",
}

# MCP 관련 상수
MCP_TOOL_PREFIX = "mcp_"  # MCP 도구 이름 접두사
MCP_DEFAULT_TIMEOUT = 30.0  # MCP 기본 타임아웃 (초)


# =============================================================================
# 프롬프트 템플릿
# =============================================================================

AGENT_SYSTEM_PROMPT = """당신은 다양한 도구를 사용하는 AI 어시스턴트입니다.
사용자의 요청을 분석하고, 적절한 도구를 선택하여 작업을 수행합니다.

다음 단계를 따르세요:
1. 사용자의 의도를 파악합니다.
2. 필요한 경우 도구를 선택합니다.
3. 도구 실행 결과를 바탕으로 최종 응답을 작성합니다.
4. 필요시 여러 도구를 조합하여 사용합니다."""

PLANNER_PROMPT = """당신은 작업 계획을 수립하는 AI입니다.
사용자의 요청을 분석하고, 어떤 도구를 어떤 순서로 사용할지 계획을 수립합니다.

사용 가능한 도구: {available_tools}

계획은 명확하고 구체적으로 작성하세요."""


# =============================================================================
# 기타 설정
# =============================================================================

# 차트 저장 경로
CHART_OUTPUT_DIR = ".cache/charts"

# 보고서 형식
REPORT_FORMATS = ["markdown", "html", "pdf"]
DEFAULT_REPORT_FORMAT = "markdown"
