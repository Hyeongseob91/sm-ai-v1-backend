"""
RAG 시스템 상수 정의
"""

# =============================================================================
# 문서 처리 설정
# =============================================================================

# 청킹 설정
DEFAULT_CHUNK_SIZE = 1000
DEFAULT_CHUNK_OVERLAP = 200
MAX_CHUNK_SIZE = 4000
MIN_CHUNK_SIZE = 100

# 지원 파일 타입
SUPPORTED_FILE_TYPES = [".pdf", ".txt", ".md", ".docx"]


# =============================================================================
# 검색 설정
# =============================================================================

# 검색 설정
DEFAULT_RETRIEVAL_K = 10  # 초기 검색 문서 수
DEFAULT_FINAL_K = 5       # 최종 반환 문서 수

# 하이브리드 검색 가중치
DEFAULT_VECTOR_WEIGHT = 0.7
DEFAULT_BM25_WEIGHT = 0.3

# 유사도 임계값
SIMILARITY_THRESHOLD = 0.3


# =============================================================================
# 리랭킹 설정
# =============================================================================

# 임베딩 설정
DEFAULT_EMBEDDING_MODEL = "BAAI/bge-m3"
EMBEDDING_DIMENSION = 1024


# =============================================================================
# 리랭커 설정
# =============================================================================

# Reranker 설정
DEFAULT_RERANKER_MODEL = "ms-marco-MiniLM-L-12-v2"
RERANKER_TOP_K = 5


# =============================================================================
# 벡터 DB 설정
# =============================================================================

# FAISS 설정
FAISS_INDEX_TYPE = "Flat"

# Weaviate 설정
WEAVIATE_CLASS_NAME = "Document"


# =============================================================================
# 프롬프트 템플릿
# =============================================================================

# 벡터 DB 설정
FAISS_INDEX_TYPE = "Flat"

# Weaviate 설정
WEAVIATE_CLASS_NAME = "Document"


# =============================================================================
# 프롬프트 템플릿
# =============================================================================

RAG_SYSTEM_PROMPT = """당신은 주어진 컨텍스트를 기반으로 질문에 답변하는 AI 어시스턴트입니다.

다음 지침을 따르세요:
1. 제공된 컨텍스트 내용만을 사용하여 답변하세요.
2. 컨텍스트에 없는 정보는 추측하지 마세요.
3. 답변을 찾을 수 없으면 솔직히 알려주세요.
4. 답변은 명확하고 간결하게 작성하세요."""
